document.addEventListener("DOMContentLoaded", function (event) {
  const tooltipTriggerList = document.querySelectorAll(
    '[data-bs-toggle="tooltip"]'
  );
  const tooltipList = [...tooltipTriggerList].map(
    (tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl)
  );
  const body = document.querySelector("body"),
    sidebar = body.querySelector("nav"),
    toggle = body.querySelector(".toggle"),
    modeSwitch = body.querySelector(".toggle-switch"),
    modeText = body.querySelector(".mode-text");

  toggle.addEventListener("click", () => {
    tooltipList.map((tooltip) => {
      tooltip._isEnabled = !tooltip._isEnabled;
    });
    sidebar.classList.toggle("close");
  });

  modeSwitch.addEventListener("click", () => {
    body.classList.toggle("dark");

    if (body.classList.contains("dark")) {
      modeText.innerText = "Claro";
    } else {
      modeText.innerText = "Obscuro";
    }
  });

  function displayMenuToggler() {
    document.getElementById("toggler-btn").classList.remove("d-none");
  }

  function hideMenuToggler() {
    document.getElementById("toggler-btn").classList.add("d-none");
  }

  function menuToggler() {
    if (document.documentElement.clientWidth >= 768) {
      displayMenuToggler();
      return;
    }
    hideMenuToggler();
  }

  function removeStylesHome() {
    const home = document.getElementById("home");
    home.style.left = 0;
    home.style.width = "100%";
  }

  function showMenuSM() {
    sidebar.classList.toggle("close");
  }

  document.getElementById("btn-toggler-sm").addEventListener("click", () => {
    showMenuSM();
  });

  window.addEventListener("resize", () => {
    menuToggler();
  });

  menuToggler();
});
